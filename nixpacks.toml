# Forzar el uso del Buildpack de PHP para asegurar que composer esté disponible
providers = ["php"]

[phases.setup]
# Especifica la versión de PHP a usar de forma explícita
# Nota: Usamos php-fpm (FastCGI Process Manager) para entornos web, 
# pero a menudo php es suficiente para el build. 
# Usaremos el paquete base que incluye composer.

# Aquí es donde le decimos a Nixpacks que use PHP 8.3
nixPkgs = ["php83"] 

# Si necesitas extensiones adicionales (ej. gd, intl, bcmath, zip), añádelas a apt (si es necesario) 
# o usa el mecanismo de composer. Generalmente el paquete php83 incluye lo básico.

[variables]
# Establece la variable de entorno para la versión de PHP, 
# aunque providers = ["php"] debería manejar esto.
# PHP_VERSION = "8.3"